(self.webpackChunkbomb_defuse_utils=self.webpackChunkbomb_defuse_utils||[]).push([[575],{4592:function(t,e,s){"use strict";s.r(e),s.d(e,{MemoryModule:function(){return _}});var o=s(1116),i=s(7154),n=s(1462),r=s(8837),p=s(1662),a=s(8193),l=s(6994),h=s(1305),g=s(9996),u=s(4019),m=s(3982),c=s(6238),f=s(4689),d=s(611),b=s(3835),y=s(7710),w=s(5614);let Z=(()=>{class t{getPrompts(t){if(!t||0===t.length)return[this.getStage1Prompt()];switch(t.length){case 1:return[this.getStage1Prompt(),this.getStage2Prompt(t)];case 2:return[this.getStage1Prompt(),this.getStage2Prompt(t),this.getStage3Prompt(t)];case 3:return[this.getStage1Prompt(),this.getStage2Prompt(t),this.getStage3Prompt(t),this.getStage4Prompt(t)];case 4:return[this.getStage1Prompt(),this.getStage2Prompt(t),this.getStage3Prompt(t),this.getStage4Prompt(t),this.getStage5Prompt(t)];default:return[]}}getStage1Prompt(){return{prompts:[{msg:"If the display is 1, press the button in the second position."},{msg:"If the display is 2, press the button in the second position."},{msg:"If the display is 3, press the button in the third position."},{msg:"If the display is 4, press the button in the fourth position."}]}}getStage2Prompt(t){return{prompts:[{msg:'If the display is 1, press the button labeled "4".'},{msg:`If the display is 2, press the button in the same position as you pressed in stage 1. (${t[0].position})`,answer:t[0].position},{msg:"If the display is 3, press the button in the first position."},{msg:`If the display is 4, press the button in the same position as you pressed in stage 1. (${t[0].position})`,answer:t[0].position}]}}getStage3Prompt(t){return{prompts:[{msg:`If the display is 1, press the button with the same label you pressed in stage 2. (${t[1].label})`,answer:t[1].label},{msg:`If the display is 2, press the button with the same label you pressed in stage 1. (${t[0].label})`,answer:t[0].label},{msg:"If the display is 3, press the button in the third position."},{msg:'If the display is 4, press the button labeled "4".'}]}}getStage4Prompt(t){return{prompts:[{msg:`If the display is 1, press the button in the same position as you pressed in stage 1.(${t[0].position})`,answer:t[0].position},{msg:"If the display is 2, press the button in the first position."},{msg:`If the display is 3, press the button in the same position as you pressed in stage 2. (${t[1].position})`,answer:t[1].position},{msg:`If the display is 4, press the button in the same position as you pressed in stage 2. (${t[1].position})`,answer:t[1].position}]}}getStage5Prompt(t){return{prompts:[{msg:`If the display is 1, press the button with the same label you pressed in stage 1. (${t[0].label})`,answer:t[0].label},{msg:`If the display is 2, press the button with the same label you pressed in stage 2. (${t[1].label})`,answer:t[1].label},{msg:`If the display is 3, press the button with the same label you pressed in stage 4. (${t[3].label})`,answer:t[3].label},{msg:`If the display is 4, press the button with the same label you pressed in stage 3. (${t[2].label})`,answer:t[2].label}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var $=s(5887),S=s(2102),I=s(6225),v=s(355),x=s(8718);function A(t,e){if(1&t&&(w.TgZ(0,"div"),w.TgZ(1,"span"),w._uU(2),w.qZA(),w.qZA()),2&t){const t=e.$implicit;w.xp6(2),w.hij(" ",t.msg," ")}}function k(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"h3"),w._uU(2),w.qZA(),w.YNc(3,A,3,1,"div",3),w.BQk()),2&t){const t=e.$implicit,s=e.index;w.xp6(2),w.hij("Stage ",s+1,""),w.xp6(1),w.Q6J("ngForOf",t.prompts)}}function P(t,e){if(1&t&&(w.ynx(0,9),w.TgZ(1,"div",1),w.TgZ(2,"h3"),w._uU(3),w.qZA(),w.TgZ(4,"app-form-field"),w.TgZ(5,"label"),w._uU(6," Location Selected "),w.qZA(),w._UZ(7,"input",10),w.qZA(),w.TgZ(8,"app-form-field"),w.TgZ(9,"label"),w._uU(10," Number selected "),w.qZA(),w._UZ(11,"input",11),w.qZA(),w.qZA(),w.BQk()),2&t){const t=e.index;w.Q6J("formGroup",e.$implicit),w.xp6(3),w.hij("Stage: ",t+1,"")}}function q(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",12),w.NdJ("click",function(){return w.CHM(t),w.oxw().nextStage()}),w._uU(1," Next Stage "),w.qZA()}}function T(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",13),w.NdJ("click",function(){return w.CHM(t),w.oxw().remove()}),w._uU(1," Remove "),w.qZA()}}const U=[{path:"",component:(()=>{class t{constructor(t,e){this.fb=t,this.memoryService=e,this.form$=new l.t(1)}ngOnInit(){this.form$.next(this.createFormGroup()),this.actions$=this.getActions$(this.form$),this.prompts$=this.getPrompts$(this.actions$),this.showNextStage$=this.getShowNextStage$(this.actions$),this.showRemove$=this.getShowRemove$(this.actions$)}createFormGroup(){return this.fb.group({actions:this.fb.array([this.buildMemoryAction()])})}getActions$(t){return t.pipe((0,g.U)(t=>t.get("actions")),(0,u.b)(t=>y.k.log("debug 1",t)),(0,m.zg)(t=>t.valueChanges.pipe((0,c.O)(null),(0,g.U)(()=>t.controls))))}getPrompts$(t){return t.pipe((0,u.b)(t=>y.k.log("test with prompts",t)),(0,f.w)(t=>(0,h.aj)(t.map(t=>this.getControlValue$(t)))),(0,u.b)(t=>y.k.log("getPrompts, controls",t)),(0,g.U)(t=>this.memoryService.getPrompts(t)),(0,u.b)(t=>y.k.log("prompts",t)))}getControlValue$(t){return t.valueChanges.pipe((0,c.O)(t.value))}getShowNextStage$(t){return t.pipe((0,g.U)(t=>t.length<4))}getShowRemove$(t){return t.pipe((0,g.U)(t=>t.length>0))}getActions(t){return t.get("actions").controls}clear(){this.form$.next(this.createFormGroup())}nextStage(){this.form$.pipe((0,g.U)(t=>t.get("actions")),(0,d.q)(1),(0,b.h)(t=>t.length<4)).subscribe(t=>t.push(this.buildMemoryAction()))}remove(){this.form$.pipe((0,g.U)(t=>t.get("actions")),(0,d.q)(1),(0,b.h)(t=>!!t.length)).subscribe(t=>t.removeAt(t.length-1))}buildMemoryAction(){return this.fb.group({position:this.fb.control(0,[n.kI.required,n.kI.min(0),n.kI.max(4)]),label:this.fb.control(0,[n.kI.required,n.kI.min(0),n.kI.max(9)])})}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(n.qu),w.Y36(Z))},t.\u0275cmp=w.Xpm({type:t,selectors:[["app-memory"]],decls:17,vars:15,consts:[["novalidate","",3,"formGroup"],[1,"margin"],["linkId","Memory"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end",1,"half-width"],["title","Moves onto the next stage",3,"click",4,"ngIf"],["title","Removes the last entry",3,"click",4,"ngIf"],["type","button","title","Removes previous answers",3,"click"],[3,"formGroup"],["type","number","placeholder","The location of the button selected","appFormInput","","formControlName","position","min","0","max","4"],["type","number","appFormInput","","placeholder","The number on the button selected","formControlName","label","min","0","max","9"],["title","Moves onto the next stage",3,"click"],["title","Removes the last entry",3,"click"]],template:function(t,e){1&t&&(w.TgZ(0,"form",0),w.ALo(1,"async"),w.TgZ(2,"div"),w.TgZ(3,"app-middle-layout"),w.TgZ(4,"div",1),w._UZ(5,"app-manual-link",2),w.qZA(),w.YNc(6,k,4,2,"ng-container",3),w.ALo(7,"async"),w.YNc(8,P,12,2,"ng-container",4),w.ALo(9,"async"),w.TgZ(10,"div",5),w.YNc(11,q,2,0,"button",6),w.ALo(12,"async"),w.YNc(13,T,2,0,"button",7),w.ALo(14,"async"),w.TgZ(15,"button",8),w.NdJ("click",function(){return e.clear()}),w._uU(16," Reset "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&t&&(w.Q6J("formGroup",w.lcZ(1,5,e.form$)),w.xp6(6),w.Q6J("ngForOf",w.lcZ(7,7,e.prompts$)),w.xp6(2),w.Q6J("ngForOf",w.lcZ(9,9,e.actions$)),w.xp6(3),w.Q6J("ngIf",w.lcZ(12,11,e.showNextStage$)),w.xp6(2),w.Q6J("ngIf",w.lcZ(14,13,e.showRemove$)))},directives:[n._Y,n.JL,n.sg,$.C,S.I,o.sg,I.xw,I.Wh,o.O5,v.h,n.wV,n.qQ,n.Fd,n.Fj,x.v,n.JJ,n.u],pipes:[o.Ov],encapsulation:2,changeDetection:0}),t})()}];let F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({imports:[[a.Bz.forChild(U)],a.Bz]}),t})();var N=s(7214);let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({imports:[[o.ez,F,i.o9,n.UX,p.u,r.k,N.y]]}),t})()}}]);