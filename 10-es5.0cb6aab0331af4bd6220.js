!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{qzbX:function(e,o,i){"use strict";i.r(o),i.d(o,"MemoryModule",(function(){return Q}));var s,r=i("2kYt"),a=i("40Bj"),c=i("nIj0"),u=i("api/"),p=i("+Net"),l=i("sEIs"),b=i("QQZH"),h=i("HM3f"),f=i("YtkY"),m=i("8j5Y"),g=i("cJ9h"),y=i("jIqt"),d=i("TLy2"),v=i("J+dc"),w=i("xVbo"),P=i("IqwL"),O=i("EM62"),k=((s=function(){function e(){t(this,e)}return n(e,[{key:"getPrompts",value:function(t){if(!t||0===t.length)return[this.getStage1Prompt()];switch(t.length){case 1:return[this.getStage1Prompt(),this.getStage2Prompt(t)];case 2:return[this.getStage1Prompt(),this.getStage2Prompt(t),this.getStage3Prompt(t)];case 3:return[this.getStage1Prompt(),this.getStage2Prompt(t),this.getStage3Prompt(t),this.getStage4Prompt(t)];case 4:return[this.getStage1Prompt(),this.getStage2Prompt(t),this.getStage3Prompt(t),this.getStage4Prompt(t),this.getStage5Prompt(t)];default:return[]}}},{key:"getStage1Prompt",value:function(){return{prompts:[{msg:"If the display is 1, press the button in the second position."},{msg:"If the display is 2, press the button in the second position."},{msg:"If the display is 3, press the button in the third position."},{msg:"If the display is 4, press the button in the fourth position."}]}}},{key:"getStage2Prompt",value:function(t){return{prompts:[{msg:'If the display is 1, press the button labeled "4".'},{msg:"If the display is 2, press the button in the same position as you pressed in stage 1. (".concat(t[0].position,")"),answer:t[0].position},{msg:"If the display is 3, press the button in the first position."},{msg:"If the display is 4, press the button in the same position as you pressed in stage 1. (".concat(t[0].position,")"),answer:t[0].position}]}}},{key:"getStage3Prompt",value:function(t){return{prompts:[{msg:"If the display is 1, press the button with the same label you pressed in stage 2. (".concat(t[1].label,")"),answer:t[1].label},{msg:"If the display is 2, press the button with the same label you pressed in stage 1. (".concat(t[0].label,")"),answer:t[0].label},{msg:"If the display is 3, press the button in the third position."},{msg:'If the display is 4, press the button labeled "4".'}]}}},{key:"getStage4Prompt",value:function(t){return{prompts:[{msg:"If the display is 1, press the button in the same position as you pressed in stage 1.(".concat(t[0].position,")"),answer:t[0].position},{msg:"If the display is 2, press the button in the first position."},{msg:"If the display is 3, press the button in the same position as you pressed in stage 2. (".concat(t[1].position,")"),answer:t[1].position},{msg:"If the display is 4, press the button in the same position as you pressed in stage 2. (".concat(t[1].position,")"),answer:t[1].position}]}}},{key:"getStage5Prompt",value:function(t){return{prompts:[{msg:"If the display is 1, press the button with the same label you pressed in stage 1. (".concat(t[0].label,")"),answer:t[0].label},{msg:"If the display is 2, press the button with the same label you pressed in stage 2. (".concat(t[1].label,")"),answer:t[1].label},{msg:"If the display is 3, press the button with the same label you pressed in stage 4. (".concat(t[3].label,")"),answer:t[3].label},{msg:"If the display is 4, press the button with the same label you pressed in stage 3. (".concat(t[2].label,")"),answer:t[2].label}]}}}]),e}()).\u0275fac=function(t){return new(t||s)},s.\u0275prov=O.Fb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),S=i("X0g2"),I=i("bsiz"),$=i("qFEQ"),j=i("4oqK"),x=i("U9PD");function F(t,e){if(1&t&&(O.Pb(0,"div"),O.Pb(1,"span"),O.nc(2),O.Ob(),O.Ob()),2&t){var n=e.$implicit;O.yb(2),O.pc(" ",n.msg," ")}}function q(t,e){if(1&t&&(O.Nb(0),O.Pb(1,"h3"),O.nc(2),O.Ob(),O.lc(3,F,3,1,"div",3),O.Mb()),2&t){var n=e.$implicit,o=e.index;O.yb(2),O.pc("Stage ",o+1,""),O.yb(1),O.ec("ngForOf",n.prompts)}}function M(t,e){if(1&t&&(O.Nb(0,9),O.Pb(1,"div",1),O.Pb(2,"h3"),O.nc(3),O.Ob(),O.Pb(4,"app-form-field"),O.Pb(5,"label"),O.nc(6," Location Selected "),O.Ob(),O.Kb(7,"input",10),O.Ob(),O.Pb(8,"app-form-field"),O.Pb(9,"label"),O.nc(10," Number selected "),O.Ob(),O.Kb(11,"input",11),O.Ob(),O.Ob(),O.Mb()),2&t){var n=e.index;O.ec("formGroup",e.$implicit),O.yb(3),O.pc("Stage: ",n+1,"")}}function N(t,e){if(1&t){var n=O.Qb();O.Pb(0,"button",12),O.Xb("click",(function(){return O.ic(n),O.Zb().nextStage()})),O.nc(1," Next Stage "),O.Ob()}}function G(t,e){if(1&t){var n=O.Qb();O.Pb(0,"button",13),O.Xb("click",(function(){return O.ic(n),O.Zb().remove()})),O.nc(1," Remove "),O.Ob()}}var C,R,A,J=[{path:"",component:(C=function(){function e(n,o){t(this,e),this.fb=n,this.memoryService=o,this.form$=new b.a(1)}return n(e,[{key:"ngOnInit",value:function(){this.form$.next(this.createFormGroup()),this.actions$=this.getActions$(this.form$),this.prompts$=this.getPrompts$(this.actions$),this.showNextStage$=this.getShowNextStage$(this.actions$),this.showRemove$=this.getShowRemove$(this.actions$)}},{key:"createFormGroup",value:function(){return this.fb.group({actions:this.fb.array([this.buildMemoryAction()])})}},{key:"getActions$",value:function(t){return t.pipe(Object(f.a)((function(t){return t.get("actions")})),Object(m.a)((function(t){return P.a.log("debug",t)})),Object(g.a)((function(t){return t.valueChanges.pipe(Object(y.a)(),Object(f.a)((function(){return t.controls})))})))}},{key:"getPrompts$",value:function(t){var e=this;return t.pipe(Object(d.a)((function(t){return Object(h.a)(t.map((function(t){return e.getControlValue$(t)})))})),Object(m.a)((function(t){return P.a.log("getPrompts, controls",t)})),Object(f.a)((function(t){return e.memoryService.getPrompts(t)})),Object(m.a)((function(t){return P.a.log("prompts",t)})))}},{key:"getControlValue$",value:function(t){return t.valueChanges.pipe(Object(y.a)(t.value))}},{key:"getShowNextStage$",value:function(t){return t.pipe(Object(f.a)((function(t){return t.length<4})))}},{key:"getShowRemove$",value:function(t){return t.pipe(Object(f.a)((function(t){return t.length>0})))}},{key:"getActions",value:function(t){return t.get("actions").controls}},{key:"clear",value:function(){this.form$.next(this.createFormGroup())}},{key:"nextStage",value:function(){var t=this;this.form$.pipe(Object(f.a)((function(t){return t.get("actions")})),Object(v.a)(1),Object(w.a)((function(t){return t.length<4}))).subscribe((function(e){return e.push(t.buildMemoryAction())}))}},{key:"remove",value:function(){this.form$.pipe(Object(f.a)((function(t){return t.get("actions")})),Object(v.a)(1),Object(w.a)((function(t){return!!t.length}))).subscribe((function(t){return t.removeAt(t.length-1)}))}},{key:"buildMemoryAction",value:function(){return this.fb.group({position:this.fb.control(0,[c.q.required,c.q.min(0),c.q.max(4)]),label:this.fb.control(0,[c.q.required,c.q.min(0),c.q.max(9)])})}}]),e}(),C.\u0275fac=function(t){return new(t||C)(O.Jb(c.c),O.Jb(k))},C.\u0275cmp=O.Db({type:C,selectors:[["app-memory"]],decls:17,vars:15,consts:[["novalidate","",3,"formGroup"],[1,"margin"],["linkId","Memory"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end",1,"half-width"],["title","Moves onto the next stage",3,"click",4,"ngIf"],["title","Removes the last entry",3,"click",4,"ngIf"],["type","button","title","Removes previous answers",3,"click"],[3,"formGroup"],["type","number","placeholder","The location of the button selected","appFormInput","","formControlName","position","min","0","max","4"],["type","number","appFormInput","","placeholder","The number on the button selected","formControlName","label","min","0","max","9"],["title","Moves onto the next stage",3,"click"],["title","Removes the last entry",3,"click"]],template:function(t,e){1&t&&(O.Pb(0,"form",0),O.ac(1,"async"),O.Pb(2,"div"),O.Pb(3,"app-middle-layout"),O.Pb(4,"div",1),O.Kb(5,"app-manual-link",2),O.Ob(),O.lc(6,q,4,2,"ng-container",3),O.ac(7,"async"),O.lc(8,M,12,2,"ng-container",4),O.ac(9,"async"),O.Pb(10,"div",5),O.lc(11,N,2,0,"button",6),O.ac(12,"async"),O.lc(13,G,2,0,"button",7),O.ac(14,"async"),O.Pb(15,"button",8),O.Xb("click",(function(){return e.clear()})),O.nc(16," Reset "),O.Ob(),O.Ob(),O.Ob(),O.Ob(),O.Ob()),2&t&&(O.ec("formGroup",O.bc(1,5,e.form$)),O.yb(6),O.ec("ngForOf",O.bc(7,7,e.prompts$)),O.yb(2),O.ec("ngForOf",O.bc(9,9,e.actions$)),O.yb(3),O.ec("ngIf",O.bc(12,11,e.showNextStage$)),O.yb(2),O.ec("ngIf",O.bc(14,13,e.showRemove$)))},directives:[c.s,c.k,c.f,S.a,I.a,r.j,$.c,$.b,r.k,j.a,c.n,c.b,x.a,c.j,c.e],pipes:[r.b],encapsulation:2,changeDetection:0}),C)}],K=((R=function e(){t(this,e)}).\u0275mod=O.Hb({type:R}),R.\u0275inj=O.Gb({factory:function(t){return new(t||R)},imports:[[l.e.forChild(J)],l.e]}),R),L=i("hKeC"),Q=((A=function e(){t(this,e)}).\u0275mod=O.Hb({type:A}),A.\u0275inj=O.Gb({factory:function(t){return new(t||A)},imports:[[r.c,K,a.a,c.o,p.a,u.a,L.a]]}),A)}}])}();