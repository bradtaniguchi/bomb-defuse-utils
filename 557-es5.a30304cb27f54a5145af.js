!function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkbomb_defuse_utils=self.webpackChunkbomb_defuse_utils||[]).push([[557],{7557:function(e,r,i){"use strict";i.r(r),i.d(r,{ComplexModule:function(){return L}});var s=i(1116),a=i(7154),o=i(1462),u=i(5614),l=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e}(),c=i(8837),p=i(7214),f=i(1662),h=i(8193),g=i(5959),m=i(9996),Z=i(6238),w=i(7710),I=function(e){return e.C="Cut the Wire",e.D="Do not cut the wire",e.S="Cut the wire if the last digit of the serial number is even",e.P="Cut the wire if the bomb has a parallel port",e.B="Cut the wire if the bomb has two or more batteries",e}({}),d=[{LEDIsOn:!1,hasStar:!1,wireHasBlue:!1,wireHasRed:!1,instruction:I.C},{LEDIsOn:!1,hasStar:!1,wireHasBlue:!1,wireHasRed:!0,instruction:I.S},{LEDIsOn:!1,hasStar:!1,wireHasBlue:!0,wireHasRed:!1,instruction:I.S},{LEDIsOn:!1,hasStar:!0,wireHasBlue:!1,wireHasRed:!1,instruction:I.C},{LEDIsOn:!0,hasStar:!1,wireHasBlue:!1,wireHasRed:!1,instruction:I.D},{LEDIsOn:!1,hasStar:!0,wireHasBlue:!1,wireHasRed:!0,instruction:I.C},{LEDIsOn:!1,hasStar:!1,wireHasBlue:!0,wireHasRed:!0,instruction:I.S},{LEDIsOn:!0,hasStar:!1,wireHasBlue:!0,wireHasRed:!1,instruction:I.P},{LEDIsOn:!0,hasStar:!0,wireHasBlue:!1,wireHasRed:!1,instruction:I.B},{LEDIsOn:!1,hasStar:!0,wireHasBlue:!0,wireHasRed:!1,instruction:I.D},{LEDIsOn:!0,hasStar:!1,wireHasBlue:!1,wireHasRed:!0,instruction:I.B},{LEDIsOn:!1,hasStar:!0,wireHasBlue:!0,wireHasRed:!0,instruction:I.P},{LEDIsOn:!0,hasStar:!1,wireHasBlue:!0,wireHasRed:!0,instruction:I.S},{LEDIsOn:!0,hasStar:!0,wireHasBlue:!1,wireHasRed:!0,instruction:I.B},{LEDIsOn:!0,hasStar:!0,wireHasBlue:!0,wireHasRed:!1,instruction:I.P},{LEDIsOn:!0,hasStar:!0,wireHasBlue:!0,wireHasRed:!0,instruction:I.D}],v=function(){var e=function(){function e(){n(this,e)}return t(e,[{key:"cutWire",value:function(e,t){var n=this.getInstruction(e),r=t.hasParallelPort,i=t.lastDigitIsEven,s=t.multiBatteries;switch(w.k.log("determined instruction: ",n),n){case I.C:return!0;case I.D:return!1;case I.S:return i;case I.P:return r;case I.B:return s;default:throw w.k.warn("Unknowing instruction given:",n),new Error}}},{key:"isTrueOrFalse",value:function(e){return!0===e||!1===e}},{key:"isWireParams",value:function(e){return this.isTrueOrFalse(e.LEDIsOn)&&this.isTrueOrFalse(e.hasStar)&&this.isTrueOrFalse(e.wireHasBlue)&&this.isTrueOrFalse(e.wireHasRed)}},{key:"isGlobalWireParams",value:function(e){return this.isTrueOrFalse(e.hasParallelPort)&&this.isTrueOrFalse(e.lastDigitIsEven)&&this.isTrueOrFalse(e.multiBatteries)}},{key:"getInstruction",value:function(e){var t=e.LEDIsOn,n=e.hasStar,r=e.wireHasBlue,i=e.wireHasRed,s=d.find(function(e){return e.LEDIsOn===t&&e.hasStar===n&&e.wireHasBlue===r&&e.wireHasRed===i});if(!s)throw w.k.error("no instruction found for params: ",e),new Error;return s.instruction}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),T=i(5887),b=i(2102),A=i(355),q=i(8718),x=i(6225),H=["*"],D=function(){var e=function(){function e(){n(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-answer-box"]],ngContentSelectors:H,decls:1,vars:0,template:function(e,t){1&e&&(u.F$t(),u.Hsn(0))},styles:["[_nghost-%COMP%]{margin:16px;font-weight:800;border:2px solid #000;padding:8px 4px;border-radius:4px}"],changeDetection:0}),e}();function O(e,t){1&e&&(u.ynx(0),u.TgZ(1,"h3"),u._uU(2," Instructional Inputs "),u.qZA(),u.TgZ(3,"app-form-field"),u.TgZ(4,"label",19),u._uU(5,"Is the last digit of the serial number even?"),u.qZA(),u.TgZ(6,"select",20),u.TgZ(7,"option",5),u._uU(8," Yes "),u.qZA(),u.TgZ(9,"option",5),u._uU(10," No "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"app-form-field"),u.TgZ(12,"label",21),u._uU(13,"Does the bomb have a parallel port?"),u.qZA(),u.TgZ(14,"select",22),u.TgZ(15,"option",5),u._uU(16," Yes "),u.qZA(),u.TgZ(17,"option",5),u._uU(18," No "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"app-form-field"),u.TgZ(20,"label",23),u._uU(21,"Does the bomb have two or more wires?"),u.qZA(),u.TgZ(22,"select",24),u.TgZ(23,"option",5),u._uU(24," Yes "),u.qZA(),u.TgZ(25,"option",5),u._uU(26," No "),u.qZA(),u.qZA(),u.qZA(),u.BQk()),2&e&&(u.xp6(7),u.Q6J("ngValue",!0),u.xp6(2),u.Q6J("ngValue",!1),u.xp6(6),u.Q6J("ngValue",!0),u.xp6(2),u.Q6J("ngValue",!1),u.xp6(6),u.Q6J("ngValue",!0),u.xp6(2),u.Q6J("ngValue",!1))}function B(e,t){if(1&e&&(u.TgZ(0,"app-answer-box"),u._uU(1),u.qZA()),2&e){var n=t.ngIf,r=u.oxw(2);u.xp6(1),u.hij(" ",r.getCutTheWireDisplay(n)," ")}}function S(e,t){if(1&e&&(u.ynx(0),u.YNc(1,B,2,1,"app-answer-box",6),u.ALo(2,"async"),u.BQk()),2&e){var n=u.oxw();u.xp6(1),u.Q6J("ngIf",u.lcZ(2,1,n.cutTheWire$))}}function y(e,t){if(1&e&&(u.TgZ(0,"app-answer-box"),u._uU(1),u.qZA()),2&e){var n=t.ngIf;u.xp6(1),u.hij(" ",n," ")}}function U(e,t){if(1&e&&(u.YNc(0,y,2,1,"app-answer-box",6),u.ALo(1,"async")),2&e){var n=u.oxw();u.Q6J("ngIf",u.lcZ(1,1,n.instruction$))}}var k,E,_=[{path:"",component:(k=function(){function e(t,r){n(this,e),this.fb=t,this.complexService=r,this.takeUntil=new g.xQ}return t(e,[{key:"ngOnInit",value:function(){this.form=this.buildForm(),this.showInstructionalInputs$=this.observeShowInstructionalInputs(this.form),this.instruction$=this.observeInstruction(this.form),this.cutTheWire$=this.observeCutTheWire(this.form)}},{key:"ngOnDestroy",value:function(){this.takeUntil.next(),this.takeUntil.unsubscribe()}},{key:"getCutTheWireDisplay",value:function(e){return e?I.C:I.D}},{key:"clearForm",value:function(e){w.k.log("clearing form"),e.patchValue({wireHasRed:null,wireHasBlue:null,hasStar:null,LEDIsOn:null})}},{key:"buildForm",value:function(){return this.fb.group({showInstructionalInputs:this.fb.control(!1,[]),wireHasRed:this.fb.control(null,[]),wireHasBlue:this.fb.control(null,[]),hasStar:this.fb.control(null,[]),LEDIsOn:this.fb.control(null,[]),lastDigitIsEven:this.fb.control(null,[]),hasParallelPort:this.fb.control(null,[]),multiBatteries:this.fb.control(null,[])})}},{key:"observeShowInstructionalInputs",value:function(e){return e.valueChanges.pipe((0,m.U)(function(e){return!!e.showInstructionalInputs}),(0,Z.O)(!1))}},{key:"observeInstruction",value:function(e){var t=this;return e.valueChanges.pipe((0,m.U)(function(e){return t.complexService.isWireParams(e)?t.complexService.getInstruction(e):void 0}))}},{key:"observeCutTheWire",value:function(e){var t=this;return e.valueChanges.pipe((0,m.U)(function(e){var n=t.complexService.isWireParams(e),r=t.complexService.isGlobalWireParams(e);return w.k.log("test with observe cut wire:",n,r),n&&r?t.complexService.cutWire(e,e):void 0}))}}]),e}(),k.\u0275fac=function(e){return new(e||k)(u.Y36(o.qu),u.Y36(v))},k.\u0275cmp=u.Xpm({type:k,selectors:[["app-complex"]],decls:58,vars:18,consts:[["novalidate","",3,"formGroup"],[1,"margin"],["linkId","ComplicatedWires"],["for","showInstructionalInputs"],["appFormInput","","formControlName","showInstructionalInputs","name","showInstructionalInputs"],[3,"ngValue"],[4,"ngIf"],["for","wireHasRed"],["appFormInput","","formControlName","wireHasRed","name","wireHasRed"],["for","wireHasBlue"],["appFormInput","","formControlName","wireHasBlue","name","wireHasBlue"],["for","hasStar"],["appFormInput","","formControlName","hasStar","name","hasStar"],["for","LEDIsOn"],["appFormInput","","formControlName","LEDIsOn","name","LEDIsOn"],[4,"ngIf","ngIfElse"],["showInstruction",""],["fxLayout","row","fxLayoutAlign","end",1,"half-width"],["type","button","title","removes wire specific questions",3,"click"],["for","lastDigitIsEven"],["appFormInput","","formControlName","lastDigitIsEven","name","lastDigitIsEven"],["for","hasParallelPort"],["appFormInput","","formControlName","hasParallelPort","name","hasParallelPort"],["for","multiBatteries"],["appFormInput","","formControlName","multiBatteries","name","multiBatteries"]],template:function(e,t){if(1&e&&(u.TgZ(0,"form",0),u.TgZ(1,"div"),u.TgZ(2,"app-middle-layout"),u.TgZ(3,"div",1),u._UZ(4,"app-manual-link",2),u.qZA(),u.TgZ(5,"app-form-field"),u.TgZ(6,"label",3),u._uU(7,"Ask Instructional questions?"),u.qZA(),u.TgZ(8,"select",4),u.TgZ(9,"option",5),u._uU(10," Yes "),u.qZA(),u.TgZ(11,"option",5),u._uU(12," No "),u.qZA(),u.qZA(),u.TgZ(13,"div"),u._uU(14," NOTE: if No, we will show the output, and you (the manual-reader) might need to ask more questions. "),u.qZA(),u.qZA(),u.YNc(15,O,27,6,"ng-container",6),u.ALo(16,"async"),u.TgZ(17,"h3"),u._uU(18," Wire specific questions "),u.qZA(),u.TgZ(19,"app-form-field"),u.TgZ(20,"label",7),u._uU(21,"Wire has red coloring"),u.qZA(),u.TgZ(22,"select",8),u.TgZ(23,"option",5),u._uU(24," Yes "),u.qZA(),u.TgZ(25,"option",5),u._uU(26," No "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(27,"app-form-field"),u.TgZ(28,"label",9),u._uU(29,"Wire has blue coloring"),u.qZA(),u.TgZ(30,"select",10),u.TgZ(31,"option",5),u._uU(32," Yes "),u.qZA(),u.TgZ(33,"option",5),u._uU(34," No "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(35,"app-form-field"),u.TgZ(36,"label",11),u._uU(37,"Wire has a star"),u.qZA(),u.TgZ(38,"select",12),u.TgZ(39,"option",5),u._uU(40," Yes "),u.qZA(),u.TgZ(41,"option",5),u._uU(42," No "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(43,"app-form-field"),u.TgZ(44,"label",13),u._uU(45,"LED Is On"),u.qZA(),u.TgZ(46,"select",14),u.TgZ(47,"option",5),u._uU(48," Yes "),u.qZA(),u.TgZ(49,"option",5),u._uU(50," No "),u.qZA(),u.qZA(),u.qZA(),u.YNc(51,S,3,3,"ng-container",15),u.ALo(52,"async"),u.YNc(53,U,2,3,"ng-template",null,16,u.W1O),u.TgZ(55,"div",17),u.TgZ(56,"button",18),u.NdJ("click",function(){return t.clearForm(t.form)}),u._uU(57," Reset "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){var n=u.MAs(54);u.Q6J("formGroup",t.form),u.xp6(9),u.Q6J("ngValue",!0),u.xp6(2),u.Q6J("ngValue",!1),u.xp6(4),u.Q6J("ngIf",u.lcZ(16,14,t.showInstructionalInputs$)),u.xp6(8),u.Q6J("ngValue",!0),u.xp6(2),u.Q6J("ngValue",!1),u.xp6(6),u.Q6J("ngValue",!0),u.xp6(2),u.Q6J("ngValue",!1),u.xp6(6),u.Q6J("ngValue",!0),u.xp6(2),u.Q6J("ngValue",!1),u.xp6(6),u.Q6J("ngValue",!0),u.xp6(2),u.Q6J("ngValue",!1),u.xp6(2),u.Q6J("ngIf",u.lcZ(52,16,t.showInstructionalInputs$))("ngIfElse",n)}},directives:[o._Y,o.JL,o.sg,T.C,b.I,A.h,o.EJ,q.v,o.JJ,o.u,o.YN,o.Kr,s.O5,x.xw,x.Wh,D],pipes:[s.Ov],encapsulation:2,changeDetection:0}),k)}],C=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[h.Bz.forChild(_)],h.Bz]}),e}(),L=((E=function e(){n(this,e)}).\u0275fac=function(e){return new(e||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({imports:[[s.ez,C,o.u5,a.o9,o.UX,f.u,c.k,l,p.y]]}),E)}}])}();