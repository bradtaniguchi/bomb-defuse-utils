!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}(self.webpackChunkbomb_defuse_utils=self.webpackChunkbomb_defuse_utils||[]).push([[575],{4592:function(e,o,i){"use strict";i.r(o),i.d(o,{MemoryModule:function(){return M}});var s=i(1116),r=i(7154),a=i(1462),u=i(8837),p=i(1662),c=i(8193),l=i(6994),h=i(1305),g=i(9996),f=i(4019),m=i(3982),b=i(6238),d=i(4689),y=i(611),v=i(3835),k=i(7710),w=i(5614),Z=function(){var e=function(){function e(){t(this,e)}return n(e,[{key:"getPrompts",value:function(t){if(!t||0===t.length)return[this.getStage1Prompt()];switch(t.length){case 1:return[this.getStage1Prompt(),this.getStage2Prompt(t)];case 2:return[this.getStage1Prompt(),this.getStage2Prompt(t),this.getStage3Prompt(t)];case 3:return[this.getStage1Prompt(),this.getStage2Prompt(t),this.getStage3Prompt(t),this.getStage4Prompt(t)];case 4:return[this.getStage1Prompt(),this.getStage2Prompt(t),this.getStage3Prompt(t),this.getStage4Prompt(t),this.getStage5Prompt(t)];default:return[]}}},{key:"getStage1Prompt",value:function(){return{prompts:[{msg:"If the display is 1, press the button in the second position."},{msg:"If the display is 2, press the button in the second position."},{msg:"If the display is 3, press the button in the third position."},{msg:"If the display is 4, press the button in the fourth position."}]}}},{key:"getStage2Prompt",value:function(t){return{prompts:[{msg:'If the display is 1, press the button labeled "4".'},{msg:"If the display is 2, press the button in the same position as you pressed in stage 1. (".concat(t[0].position,")"),answer:t[0].position},{msg:"If the display is 3, press the button in the first position."},{msg:"If the display is 4, press the button in the same position as you pressed in stage 1. (".concat(t[0].position,")"),answer:t[0].position}]}}},{key:"getStage3Prompt",value:function(t){return{prompts:[{msg:"If the display is 1, press the button with the same label you pressed in stage 2. (".concat(t[1].label,")"),answer:t[1].label},{msg:"If the display is 2, press the button with the same label you pressed in stage 1. (".concat(t[0].label,")"),answer:t[0].label},{msg:"If the display is 3, press the button in the third position."},{msg:'If the display is 4, press the button labeled "4".'}]}}},{key:"getStage4Prompt",value:function(t){return{prompts:[{msg:"If the display is 1, press the button in the same position as you pressed in stage 1.(".concat(t[0].position,")"),answer:t[0].position},{msg:"If the display is 2, press the button in the first position."},{msg:"If the display is 3, press the button in the same position as you pressed in stage 2. (".concat(t[1].position,")"),answer:t[1].position},{msg:"If the display is 4, press the button in the same position as you pressed in stage 2. (".concat(t[1].position,")"),answer:t[1].position}]}}},{key:"getStage5Prompt",value:function(t){return{prompts:[{msg:"If the display is 1, press the button with the same label you pressed in stage 1. (".concat(t[0].label,")"),answer:t[0].label},{msg:"If the display is 2, press the button with the same label you pressed in stage 2. (".concat(t[1].label,")"),answer:t[1].label},{msg:"If the display is 3, press the button with the same label you pressed in stage 4. (".concat(t[3].label,")"),answer:t[3].label},{msg:"If the display is 4, press the button with the same label you pressed in stage 3. (".concat(t[2].label,")"),answer:t[2].label}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),S=i(5887),I=i(2102),x=i(6225),A=i(355),$=i(8718);function P(t,e){if(1&t&&(w.TgZ(0,"div"),w.TgZ(1,"span"),w._uU(2),w.qZA(),w.qZA()),2&t){var n=e.$implicit;w.xp6(2),w.hij(" ",n.msg," ")}}function q(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"h3"),w._uU(2),w.qZA(),w.YNc(3,P,3,1,"div",3),w.BQk()),2&t){var n=e.$implicit,o=e.index;w.xp6(2),w.hij("Stage ",o+1,""),w.xp6(1),w.Q6J("ngForOf",n.prompts)}}function T(t,e){if(1&t&&(w.ynx(0,9),w.TgZ(1,"div",1),w.TgZ(2,"h3"),w._uU(3),w.qZA(),w.TgZ(4,"app-form-field"),w.TgZ(5,"label"),w._uU(6," Location Selected "),w.qZA(),w._UZ(7,"input",10),w.qZA(),w.TgZ(8,"app-form-field"),w.TgZ(9,"label"),w._uU(10," Number selected "),w.qZA(),w._UZ(11,"input",11),w.qZA(),w.qZA(),w.BQk()),2&t){var n=e.index;w.Q6J("formGroup",e.$implicit),w.xp6(3),w.hij("Stage: ",n+1,"")}}function U(t,e){if(1&t){var n=w.EpF();w.TgZ(0,"button",12),w.NdJ("click",function(){return w.CHM(n),w.oxw().nextStage()}),w._uU(1," Next Stage "),w.qZA()}}function F(t,e){if(1&t){var n=w.EpF();w.TgZ(0,"button",13),w.NdJ("click",function(){return w.CHM(n),w.oxw().remove()}),w._uU(1," Remove "),w.qZA()}}var N,_,J=[{path:"",component:(N=function(){function e(n,o){t(this,e),this.fb=n,this.memoryService=o,this.form$=new l.t(1)}return n(e,[{key:"ngOnInit",value:function(){this.form$.next(this.createFormGroup()),this.actions$=this.getActions$(this.form$),this.prompts$=this.getPrompts$(this.actions$),this.showNextStage$=this.getShowNextStage$(this.actions$),this.showRemove$=this.getShowRemove$(this.actions$)}},{key:"createFormGroup",value:function(){return this.fb.group({actions:this.fb.array([this.buildMemoryAction()])})}},{key:"getActions$",value:function(t){return t.pipe((0,g.U)(function(t){return t.get("actions")}),(0,f.b)(function(t){return k.k.log("debug 1",t)}),(0,m.zg)(function(t){return t.valueChanges.pipe((0,b.O)(null),(0,g.U)(function(){return t.controls}))}))}},{key:"getPrompts$",value:function(t){var e=this;return t.pipe((0,f.b)(function(t){return k.k.log("test with prompts",t)}),(0,d.w)(function(t){return(0,h.aj)(t.map(function(t){return e.getControlValue$(t)}))}),(0,f.b)(function(t){return k.k.log("getPrompts, controls",t)}),(0,g.U)(function(t){return e.memoryService.getPrompts(t)}),(0,f.b)(function(t){return k.k.log("prompts",t)}))}},{key:"getControlValue$",value:function(t){return t.valueChanges.pipe((0,b.O)(t.value))}},{key:"getShowNextStage$",value:function(t){return t.pipe((0,g.U)(function(t){return t.length<4}))}},{key:"getShowRemove$",value:function(t){return t.pipe((0,g.U)(function(t){return t.length>0}))}},{key:"getActions",value:function(t){return t.get("actions").controls}},{key:"clear",value:function(){this.form$.next(this.createFormGroup())}},{key:"nextStage",value:function(){var t=this;this.form$.pipe((0,g.U)(function(t){return t.get("actions")}),(0,y.q)(1),(0,v.h)(function(t){return t.length<4})).subscribe(function(e){return e.push(t.buildMemoryAction())})}},{key:"remove",value:function(){this.form$.pipe((0,g.U)(function(t){return t.get("actions")}),(0,y.q)(1),(0,v.h)(function(t){return!!t.length})).subscribe(function(t){return t.removeAt(t.length-1)})}},{key:"buildMemoryAction",value:function(){return this.fb.group({position:this.fb.control(0,[a.kI.required,a.kI.min(0),a.kI.max(4)]),label:this.fb.control(0,[a.kI.required,a.kI.min(0),a.kI.max(9)])})}}]),e}(),N.\u0275fac=function(t){return new(t||N)(w.Y36(a.qu),w.Y36(Z))},N.\u0275cmp=w.Xpm({type:N,selectors:[["app-memory"]],decls:17,vars:15,consts:[["novalidate","",3,"formGroup"],[1,"margin"],["linkId","Memory"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end",1,"half-width"],["title","Moves onto the next stage",3,"click",4,"ngIf"],["title","Removes the last entry",3,"click",4,"ngIf"],["type","button","title","Removes previous answers",3,"click"],[3,"formGroup"],["type","number","placeholder","The location of the button selected","appFormInput","","formControlName","position","min","0","max","4"],["type","number","appFormInput","","placeholder","The number on the button selected","formControlName","label","min","0","max","9"],["title","Moves onto the next stage",3,"click"],["title","Removes the last entry",3,"click"]],template:function(t,e){1&t&&(w.TgZ(0,"form",0),w.ALo(1,"async"),w.TgZ(2,"div"),w.TgZ(3,"app-middle-layout"),w.TgZ(4,"div",1),w._UZ(5,"app-manual-link",2),w.qZA(),w.YNc(6,q,4,2,"ng-container",3),w.ALo(7,"async"),w.YNc(8,T,12,2,"ng-container",4),w.ALo(9,"async"),w.TgZ(10,"div",5),w.YNc(11,U,2,0,"button",6),w.ALo(12,"async"),w.YNc(13,F,2,0,"button",7),w.ALo(14,"async"),w.TgZ(15,"button",8),w.NdJ("click",function(){return e.clear()}),w._uU(16," Reset "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&t&&(w.Q6J("formGroup",w.lcZ(1,5,e.form$)),w.xp6(6),w.Q6J("ngForOf",w.lcZ(7,7,e.prompts$)),w.xp6(2),w.Q6J("ngForOf",w.lcZ(9,9,e.actions$)),w.xp6(3),w.Q6J("ngIf",w.lcZ(12,11,e.showNextStage$)),w.xp6(2),w.Q6J("ngIf",w.lcZ(14,13,e.showRemove$)))},directives:[a._Y,a.JL,a.sg,S.C,I.I,s.sg,x.xw,x.Wh,s.O5,A.h,a.wV,a.qQ,a.Fd,a.Fj,$.v,a.JJ,a.u],pipes:[s.Ov],encapsulation:2,changeDetection:0}),N)}],C=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=w.oAB({type:e}),e.\u0275inj=w.cJS({imports:[[c.Bz.forChild(J)],c.Bz]}),e}(),O=i(7214),M=((_=function e(){t(this,e)}).\u0275fac=function(t){return new(t||_)},_.\u0275mod=w.oAB({type:_}),_.\u0275inj=w.cJS({imports:[[s.ez,C,r.o9,a.UX,p.u,u.k,O.y]]}),_)}}])}();