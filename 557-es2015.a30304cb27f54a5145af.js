(self.webpackChunkbomb_defuse_utils=self.webpackChunkbomb_defuse_utils||[]).push([[557],{7557:function(e,t,r){"use strict";r.r(t),r.d(t,{ComplexModule:function(){return _}});var n=r(1116),s=r(7154),i=r(1462),o=r(5614);let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({}),e})();var u=r(8837),l=r(7214),c=r(1662),p=r(8193),h=r(5959),g=r(9996),f=r(6238),m=r(7710),Z=function(e){return e.C="Cut the Wire",e.D="Do not cut the wire",e.S="Cut the wire if the last digit of the serial number is even",e.P="Cut the wire if the bomb has a parallel port",e.B="Cut the wire if the bomb has two or more batteries",e}({});const w=[{LEDIsOn:!1,hasStar:!1,wireHasBlue:!1,wireHasRed:!1,instruction:Z.C},{LEDIsOn:!1,hasStar:!1,wireHasBlue:!1,wireHasRed:!0,instruction:Z.S},{LEDIsOn:!1,hasStar:!1,wireHasBlue:!0,wireHasRed:!1,instruction:Z.S},{LEDIsOn:!1,hasStar:!0,wireHasBlue:!1,wireHasRed:!1,instruction:Z.C},{LEDIsOn:!0,hasStar:!1,wireHasBlue:!1,wireHasRed:!1,instruction:Z.D},{LEDIsOn:!1,hasStar:!0,wireHasBlue:!1,wireHasRed:!0,instruction:Z.C},{LEDIsOn:!1,hasStar:!1,wireHasBlue:!0,wireHasRed:!0,instruction:Z.S},{LEDIsOn:!0,hasStar:!1,wireHasBlue:!0,wireHasRed:!1,instruction:Z.P},{LEDIsOn:!0,hasStar:!0,wireHasBlue:!1,wireHasRed:!1,instruction:Z.B},{LEDIsOn:!1,hasStar:!0,wireHasBlue:!0,wireHasRed:!1,instruction:Z.D},{LEDIsOn:!0,hasStar:!1,wireHasBlue:!1,wireHasRed:!0,instruction:Z.B},{LEDIsOn:!1,hasStar:!0,wireHasBlue:!0,wireHasRed:!0,instruction:Z.P},{LEDIsOn:!0,hasStar:!1,wireHasBlue:!0,wireHasRed:!0,instruction:Z.S},{LEDIsOn:!0,hasStar:!0,wireHasBlue:!1,wireHasRed:!0,instruction:Z.B},{LEDIsOn:!0,hasStar:!0,wireHasBlue:!0,wireHasRed:!1,instruction:Z.P},{LEDIsOn:!0,hasStar:!0,wireHasBlue:!0,wireHasRed:!0,instruction:Z.D}];let I=(()=>{class e{constructor(){}cutWire(e,t){const r=this.getInstruction(e),{hasParallelPort:n,lastDigitIsEven:s,multiBatteries:i}=t;switch(m.k.log("determined instruction: ",r),r){case Z.C:return!0;case Z.D:return!1;case Z.S:return s;case Z.P:return n;case Z.B:return i;default:throw m.k.warn("Unknowing instruction given:",r),new Error}}isTrueOrFalse(e){return!0===e||!1===e}isWireParams(e){return this.isTrueOrFalse(e.LEDIsOn)&&this.isTrueOrFalse(e.hasStar)&&this.isTrueOrFalse(e.wireHasBlue)&&this.isTrueOrFalse(e.wireHasRed)}isGlobalWireParams(e){return this.isTrueOrFalse(e.hasParallelPort)&&this.isTrueOrFalse(e.lastDigitIsEven)&&this.isTrueOrFalse(e.multiBatteries)}getInstruction(e){const{LEDIsOn:t,hasStar:r,wireHasBlue:n,wireHasRed:s}=e,i=w.find(e=>e.LEDIsOn===t&&e.hasStar===r&&e.wireHasBlue===n&&e.wireHasRed===s);if(!i)throw m.k.error("no instruction found for params: ",e),new Error;return i.instruction}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=r(5887),T=r(2102),A=r(355),b=r(8718),q=r(6225);const x=["*"];let H=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-answer-box"]],ngContentSelectors:x,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},styles:["[_nghost-%COMP%]{margin:16px;font-weight:800;border:2px solid #000;padding:8px 4px;border-radius:4px}"],changeDetection:0}),e})();function v(e,t){1&e&&(o.ynx(0),o.TgZ(1,"h3"),o._uU(2," Instructional Inputs "),o.qZA(),o.TgZ(3,"app-form-field"),o.TgZ(4,"label",19),o._uU(5,"Is the last digit of the serial number even?"),o.qZA(),o.TgZ(6,"select",20),o.TgZ(7,"option",5),o._uU(8," Yes "),o.qZA(),o.TgZ(9,"option",5),o._uU(10," No "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"app-form-field"),o.TgZ(12,"label",21),o._uU(13,"Does the bomb have a parallel port?"),o.qZA(),o.TgZ(14,"select",22),o.TgZ(15,"option",5),o._uU(16," Yes "),o.qZA(),o.TgZ(17,"option",5),o._uU(18," No "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"app-form-field"),o.TgZ(20,"label",23),o._uU(21,"Does the bomb have two or more wires?"),o.qZA(),o.TgZ(22,"select",24),o.TgZ(23,"option",5),o._uU(24," Yes "),o.qZA(),o.TgZ(25,"option",5),o._uU(26," No "),o.qZA(),o.qZA(),o.qZA(),o.BQk()),2&e&&(o.xp6(7),o.Q6J("ngValue",!0),o.xp6(2),o.Q6J("ngValue",!1),o.xp6(6),o.Q6J("ngValue",!0),o.xp6(2),o.Q6J("ngValue",!1),o.xp6(6),o.Q6J("ngValue",!0),o.xp6(2),o.Q6J("ngValue",!1))}function D(e,t){if(1&e&&(o.TgZ(0,"app-answer-box"),o._uU(1),o.qZA()),2&e){const e=t.ngIf,r=o.oxw(2);o.xp6(1),o.hij(" ",r.getCutTheWireDisplay(e)," ")}}function B(e,t){if(1&e&&(o.ynx(0),o.YNc(1,D,2,1,"app-answer-box",6),o.ALo(2,"async"),o.BQk()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,1,e.cutTheWire$))}}function O(e,t){if(1&e&&(o.TgZ(0,"app-answer-box"),o._uU(1),o.qZA()),2&e){const e=t.ngIf;o.xp6(1),o.hij(" ",e," ")}}function S(e,t){if(1&e&&(o.YNc(0,O,2,1,"app-answer-box",6),o.ALo(1,"async")),2&e){const e=o.oxw();o.Q6J("ngIf",o.lcZ(1,1,e.instruction$))}}const U=[{path:"",component:(()=>{class e{constructor(e,t){this.fb=e,this.complexService=t,this.takeUntil=new h.xQ}ngOnInit(){this.form=this.buildForm(),this.showInstructionalInputs$=this.observeShowInstructionalInputs(this.form),this.instruction$=this.observeInstruction(this.form),this.cutTheWire$=this.observeCutTheWire(this.form)}ngOnDestroy(){this.takeUntil.next(),this.takeUntil.unsubscribe()}getCutTheWireDisplay(e){return e?Z.C:Z.D}clearForm(e){m.k.log("clearing form"),e.patchValue({wireHasRed:null,wireHasBlue:null,hasStar:null,LEDIsOn:null})}buildForm(){return this.fb.group({showInstructionalInputs:this.fb.control(!1,[]),wireHasRed:this.fb.control(null,[]),wireHasBlue:this.fb.control(null,[]),hasStar:this.fb.control(null,[]),LEDIsOn:this.fb.control(null,[]),lastDigitIsEven:this.fb.control(null,[]),hasParallelPort:this.fb.control(null,[]),multiBatteries:this.fb.control(null,[])})}observeShowInstructionalInputs(e){return e.valueChanges.pipe((0,g.U)(e=>!!e.showInstructionalInputs),(0,f.O)(!1))}observeInstruction(e){return e.valueChanges.pipe((0,g.U)(e=>this.complexService.isWireParams(e)?this.complexService.getInstruction(e):void 0))}observeCutTheWire(e){return e.valueChanges.pipe((0,g.U)(e=>{const t=this.complexService.isWireParams(e),r=this.complexService.isGlobalWireParams(e);return m.k.log("test with observe cut wire:",t,r),t&&r?this.complexService.cutWire(e,e):void 0}))}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(i.qu),o.Y36(I))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-complex"]],decls:58,vars:18,consts:[["novalidate","",3,"formGroup"],[1,"margin"],["linkId","ComplicatedWires"],["for","showInstructionalInputs"],["appFormInput","","formControlName","showInstructionalInputs","name","showInstructionalInputs"],[3,"ngValue"],[4,"ngIf"],["for","wireHasRed"],["appFormInput","","formControlName","wireHasRed","name","wireHasRed"],["for","wireHasBlue"],["appFormInput","","formControlName","wireHasBlue","name","wireHasBlue"],["for","hasStar"],["appFormInput","","formControlName","hasStar","name","hasStar"],["for","LEDIsOn"],["appFormInput","","formControlName","LEDIsOn","name","LEDIsOn"],[4,"ngIf","ngIfElse"],["showInstruction",""],["fxLayout","row","fxLayoutAlign","end",1,"half-width"],["type","button","title","removes wire specific questions",3,"click"],["for","lastDigitIsEven"],["appFormInput","","formControlName","lastDigitIsEven","name","lastDigitIsEven"],["for","hasParallelPort"],["appFormInput","","formControlName","hasParallelPort","name","hasParallelPort"],["for","multiBatteries"],["appFormInput","","formControlName","multiBatteries","name","multiBatteries"]],template:function(e,t){if(1&e&&(o.TgZ(0,"form",0),o.TgZ(1,"div"),o.TgZ(2,"app-middle-layout"),o.TgZ(3,"div",1),o._UZ(4,"app-manual-link",2),o.qZA(),o.TgZ(5,"app-form-field"),o.TgZ(6,"label",3),o._uU(7,"Ask Instructional questions?"),o.qZA(),o.TgZ(8,"select",4),o.TgZ(9,"option",5),o._uU(10," Yes "),o.qZA(),o.TgZ(11,"option",5),o._uU(12," No "),o.qZA(),o.qZA(),o.TgZ(13,"div"),o._uU(14," NOTE: if No, we will show the output, and you (the manual-reader) might need to ask more questions. "),o.qZA(),o.qZA(),o.YNc(15,v,27,6,"ng-container",6),o.ALo(16,"async"),o.TgZ(17,"h3"),o._uU(18," Wire specific questions "),o.qZA(),o.TgZ(19,"app-form-field"),o.TgZ(20,"label",7),o._uU(21,"Wire has red coloring"),o.qZA(),o.TgZ(22,"select",8),o.TgZ(23,"option",5),o._uU(24," Yes "),o.qZA(),o.TgZ(25,"option",5),o._uU(26," No "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"app-form-field"),o.TgZ(28,"label",9),o._uU(29,"Wire has blue coloring"),o.qZA(),o.TgZ(30,"select",10),o.TgZ(31,"option",5),o._uU(32," Yes "),o.qZA(),o.TgZ(33,"option",5),o._uU(34," No "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(35,"app-form-field"),o.TgZ(36,"label",11),o._uU(37,"Wire has a star"),o.qZA(),o.TgZ(38,"select",12),o.TgZ(39,"option",5),o._uU(40," Yes "),o.qZA(),o.TgZ(41,"option",5),o._uU(42," No "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(43,"app-form-field"),o.TgZ(44,"label",13),o._uU(45,"LED Is On"),o.qZA(),o.TgZ(46,"select",14),o.TgZ(47,"option",5),o._uU(48," Yes "),o.qZA(),o.TgZ(49,"option",5),o._uU(50," No "),o.qZA(),o.qZA(),o.qZA(),o.YNc(51,B,3,3,"ng-container",15),o.ALo(52,"async"),o.YNc(53,S,2,3,"ng-template",null,16,o.W1O),o.TgZ(55,"div",17),o.TgZ(56,"button",18),o.NdJ("click",function(){return t.clearForm(t.form)}),o._uU(57," Reset "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.MAs(54);o.Q6J("formGroup",t.form),o.xp6(9),o.Q6J("ngValue",!0),o.xp6(2),o.Q6J("ngValue",!1),o.xp6(4),o.Q6J("ngIf",o.lcZ(16,14,t.showInstructionalInputs$)),o.xp6(8),o.Q6J("ngValue",!0),o.xp6(2),o.Q6J("ngValue",!1),o.xp6(6),o.Q6J("ngValue",!0),o.xp6(2),o.Q6J("ngValue",!1),o.xp6(6),o.Q6J("ngValue",!0),o.xp6(2),o.Q6J("ngValue",!1),o.xp6(6),o.Q6J("ngValue",!0),o.xp6(2),o.Q6J("ngValue",!1),o.xp6(2),o.Q6J("ngIf",o.lcZ(52,16,t.showInstructionalInputs$))("ngIfElse",e)}},directives:[i._Y,i.JL,i.sg,d.C,T.I,A.h,i.EJ,b.v,i.JJ,i.u,i.YN,i.Kr,n.O5,q.xw,q.Wh,H],pipes:[n.Ov],encapsulation:2,changeDetection:0}),e})()}];let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[p.Bz.forChild(U)],p.Bz]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[n.ez,E,i.u5,s.o9,i.UX,c.u,u.k,a,l.y]]}),e})()}}]);