(self.webpackChunkbomb_defuse_utils=self.webpackChunkbomb_defuse_utils||[]).push([[927],{9927:function(e,t,r){"use strict";r.r(t),r.d(t,{WiresModule:function(){return q}});var n=r(1116),i=r(1462),o=r(8837),s=r(7214),l=r(1662),u=r(8193),f=r(1305),c=r(9996),a=r(6238),g=r(5614);let h=(()=>{class e{constructor(){}needIsSerialOdd(e){switch(e.length){case 3:return!1;case 4:return e.filter(e=>"red"===e).length>1;case 5:return"black"===e[e.length-1];case 6:return 0===e.filter(e=>"yellow"===e).length;default:return!1}}getWireToCut(e,t){switch(e.length){case 3:return this.getWireToCutOfThree(e);case 4:return this.getWireToCutOfFour(e,t);case 5:return this.getWireToCutOfFive(e,t);case 6:return this.getWireToCutOfSix(e,t);default:return null}}getWireToCutOfThree(e){const t=!e.includes("red"),r=e.length;if(t)return 2;if("white"===e[e.length-1])return r;if(e.filter(e=>"blue"===e).length>1){const t=e.reverse().findIndex(e=>"blue"===e);return e.length-t}return r}getWireToCutOfFour(e,t){const r=e.filter(e=>"red"===e);if(r.length>1&&t){const t=e.reverse().findIndex(e=>"red"===e);return e.length-t}return"yellow"===e[e.length-1]&&0===r.length||1===e.filter(e=>"blue"===e).length?1:e.filter(e=>"yellow"===e).length>1?4:2}getWireToCutOfFive(e,t){if("black"===e[e.length-1]&&t)return 4;const r=1===e.filter(e=>"red"===e).length,n=e.filter(e=>"yellow"===e).length>1;return r&&n||e.find(e=>"black"===e)?1:2}getWireToCutOfSix(e,t){if(0===e.filter(e=>"yellow"===e).length&&t)return 3;const r=1===e.filter(e=>"yellow"===e).length,n=e.filter(e=>"white"===e).length>1;return r&&n?4:0===e.filter(e=>"red"===e).length?e.length:4}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=r(5887),d=r(2102),m=r(355),w=r(8718);function Z(e,t){1&e&&(g.TgZ(0,"div",8),g._uU(1," Value is too small "),g.qZA())}function v(e,t){1&e&&(g.TgZ(0,"div",8),g._uU(1," Value is too large "),g.qZA())}function T(e,t){if(1&e&&(g.TgZ(0,"option",12),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e),g.xp6(1),g.Oqu(e)}}function b(e,t){if(1&e&&(g.TgZ(0,"app-form-field"),g.TgZ(1,"label",3),g._uU(2),g.qZA(),g.TgZ(3,"select",10),g.YNc(4,T,2,2,"option",11),g.qZA(),g.qZA()),2&e){const e=t.$implicit,r=t.index,n=g.oxw(2);g.xp6(2),g.hij("Wire: ",r+1,""),g.xp6(1),g.Q6J("formControl",e),g.xp6(1),g.Q6J("ngForOf",n.wireOptions)}}function C(e,t){if(1&e&&(g.ynx(0),g.YNc(1,b,5,3,"app-form-field",9),g.BQk()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngForOf",e.form.get("wires").controls)}}function x(e,t){1&e&&(g.TgZ(0,"div"),g._uU(1," Disregard this input for this listing of wires! "),g.qZA())}function A(e,t){1&e&&g._uU(0," This is required! ")}function y(e,t){if(1&e&&(g.TgZ(0,"app-form-field"),g.TgZ(1,"label",3),g._uU(2,"2. Is Serial Odd"),g.qZA(),g.TgZ(3,"select",13),g.TgZ(4,"option",12),g._uU(5,"True"),g.qZA(),g.TgZ(6,"option",12),g._uU(7,"False"),g.qZA(),g.qZA(),g.YNc(8,x,2,0,"div",14),g.ALo(9,"async"),g.YNc(10,A,1,0,"ng-template",null,15,g.W1O),g.qZA()),2&e){const e=g.MAs(11),t=g.oxw();g.xp6(4),g.Q6J("value",!0),g.xp6(2),g.Q6J("value",!0),g.xp6(2),g.Q6J("ngIf",g.lcZ(9,4,t.dontUseSerial$))("ngIfElse",e)}}function O(e,t){if(1&e&&(g.ynx(0),g._uU(1),g.ALo(2,"async"),g.BQk()),2&e){const e=g.oxw();g.xp6(1),g.hij(" Cut Wire: ",g.lcZ(2,1,e.wireToCut$)," ")}}const I=[{path:"",component:(()=>{class e{constructor(e,t){this.fb=e,this.wiresService=t,this.wireOptions=["black","blue","red","white","yellow"]}ngOnInit(){this.form=this.buildForm(),this.form.get("num").valueChanges.subscribe(()=>this.onWiresChange()),this.wireToCut$=this.observeWireToCut(),this.showSecondQuestions$=this.observeSecondQuestions(),this.dontUseSerial$=this.observeDontUseSerial()}buildForm(){return this.fb.group({num:this.fb.control(null,[i.kI.min(3),i.kI.max(6)]),wires:this.fb.array([]),isSerialOdd:this.fb.control(!1)})}observeSecondQuestions(){return this.form.get("num").valueChanges.pipe((0,c.U)(e=>!!e))}observeDontUseSerial(){return this.form.get("wires").valueChanges.pipe((0,c.U)(e=>!this.wiresService.needIsSerialOdd(e)))}onWiresChange(){const e=this.form.get("num").value;if(e>=3&&e<=6){const t=new Array(e).fill(null).map(()=>this.fb.control("white")),r=this.form.get("wires");for(;0!==r.length;)r.removeAt(0);t.forEach(e=>r.push(e))}}observeWireToCut(){return(0,f.aj)([this.form.get("wires").valueChanges,this.form.get("isSerialOdd").valueChanges.pipe((0,a.O)(!1))]).pipe((0,c.U)(([e,t])=>this.wiresService.getWireToCut(e,t)))}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(i.qu),g.Y36(h))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-wires"]],decls:17,vars:12,consts:[["novalidate","",3,"formGroup"],[1,"margin"],["linkId","Wires"],["for","wires"],["type","number","appFormInput","","formControlName","num","min","3","max","6"],["style","color: red",4,"ngIf"],[1,"margin","full-width"],[4,"ngIf"],[2,"color","red"],[4,"ngFor","ngForOf"],["appFormInput","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","select","appFormInput","","formControlName","isSerialOdd"],[4,"ngIf","ngIfElse"],["showNeedSerial",""]],template:function(e,t){1&e&&(g.TgZ(0,"form",0),g.TgZ(1,"app-middle-layout"),g.TgZ(2,"div",1),g._UZ(3,"app-manual-link",2),g.qZA(),g.TgZ(4,"app-form-field"),g.TgZ(5,"label",3),g._uU(6,"1. How many wires? (3-6)"),g.qZA(),g._UZ(7,"input",4),g.YNc(8,Z,2,0,"div",5),g.YNc(9,v,2,0,"div",5),g.qZA(),g.TgZ(10,"div",6),g.YNc(11,C,2,1,"ng-container",7),g.ALo(12,"async"),g.qZA(),g.YNc(13,y,12,6,"app-form-field",7),g.ALo(14,"async"),g.YNc(15,O,3,3,"ng-container",7),g.ALo(16,"async"),g.qZA(),g.qZA()),2&e&&(g.Q6J("formGroup",t.form),g.xp6(8),g.Q6J("ngIf",t.form.get("num").hasError("min")),g.xp6(1),g.Q6J("ngIf",t.form.get("num").hasError("max")),g.xp6(2),g.Q6J("ngIf",g.lcZ(12,6,t.showSecondQuestions$)),g.xp6(2),g.Q6J("ngIf",g.lcZ(14,8,t.showSecondQuestions$)),g.xp6(2),g.Q6J("ngIf",g.lcZ(16,10,t.showSecondQuestions$)))},directives:[i._Y,i.JL,i.sg,p.C,d.I,m.h,i.wV,i.qQ,i.Fd,i.Fj,w.v,i.JJ,i.u,n.O5,n.sg,i.EJ,i.oH,i.YN,i.Kr],pipes:[n.Ov],encapsulation:2,changeDetection:0}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[u.Bz.forChild(I)],u.Bz]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[n.ez,S,i.u5,i.UX,l.u,o.k,s.y]]}),e})()}}]);